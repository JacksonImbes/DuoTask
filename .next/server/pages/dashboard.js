(()=>{var e={};e.id=26,e.ids=[26,888,660],e.modules={6415:e=>{e.exports={header:"styles_header__7sfJ0",content:"styles_content__9X7OX",logo:"styles_logo__t64BP",loginButton:"styles_loginButton__j6lEx",nav:"styles_nav__Ewldv",link:"styles_link___WqYd"}},5593:e=>{e.exports={textarea:"styles_textarea__VWHbl"}},4421:e=>{e.exports={container:"styles_container__XyrkC",content:"styles_content__HACSJ",contentForm:"styles_contentForm__YP1cF",title:"styles_title__M4qNX",checkboxArea:"styles_checkboxArea__LZMTZ",button:"styles_button__wlsNY",taskContainer:"styles_taskContainer__IF8Jw",task:"styles_task__rYSnK",tagContainer:"styles_tagContainer__6_Cmc",tag:"styles_tag__VqR6C",shareButton:"styles_shareButton__u0pVR",taskContent:"styles_taskContent__YITuM",trashButton:"styles_trashButton__cuRMO"}},9157:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{config:()=>_,default:()=>d,getServerSideProps:()=>x,getStaticPaths:()=>p,getStaticProps:()=>h,reportWebVitals:()=>m,routeModule:()=>S,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>g});var r=s(7093),n=s(5244),i=s(1323),c=s(29),l=s(5143),o=s(2489),u=e([l,o]);[l,o]=u.then?(await u)():u;let d=(0,i.l)(o,"default"),h=(0,i.l)(o,"getStaticProps"),p=(0,i.l)(o,"getStaticPaths"),x=(0,i.l)(o,"getServerSideProps"),_=(0,i.l)(o,"config"),m=(0,i.l)(o,"reportWebVitals"),g=(0,i.l)(o,"unstable_getStaticProps"),f=(0,i.l)(o,"unstable_getStaticPaths"),b=(0,i.l)(o,"unstable_getStaticParams"),j=(0,i.l)(o,"unstable_getServerProps"),y=(0,i.l)(o,"unstable_getServerSideProps"),S=new r.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/dashboard",pathname:"/dashboard",bundlePath:"",filename:""},components:{App:l.default,Document:c.default},userland:o});a()}catch(e){a(e)}})},9605:(e,t,s)=>{"use strict";s.d(t,{h:()=>o});var a=s(997),r=s(1649),n=s(6415),i=s.n(n),c=s(1664),l=s.n(c);function o(){let{data:e,status:t}=(0,r.useSession)();return a.jsx("header",{className:i().header,children:(0,a.jsxs)("section",{className:i().content,children:[(0,a.jsxs)("nav",{className:i().nav,children:[a.jsx(l(),{href:"/",children:(0,a.jsxs)("h1",{className:i().logo,children:["DuoTask",a.jsx("span",{children:"+"})]})}),e?.user&&a.jsx(l(),{href:"/dashboard",className:i().link,children:"Meu Painel"})]}),"loading"===t?a.jsx(a.Fragment,{}):e?(0,a.jsxs)("button",{className:i().loginButton,onClick:()=>(0,r.signOut)(),children:["Ol\xe1 ",e?.user?.name]}):a.jsx("button",{className:i().loginButton,onClick:()=>(0,r.signIn)("google"),children:"Acessar"})]})})}},8498:(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var a=s(997),r=s(5593),n=s.n(r);function i({...e}){return a.jsx("textarea",{className:n().textarea,...e})}},5143:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>o});var r=s(997);s(6764);var n=s(9605),i=s(1649),c=s(371),l=e([c]);function o({Component:e,pageProps:t}){return(0,r.jsxs)(i.SessionProvider,{session:t.session,children:[r.jsx(n.h,{}),r.jsx(e,{...t})]})}c=(l.then?(await l)():l)[0],(0,c.m)(),a()}catch(e){a(e)}})},29:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(997),r=s(6859);function n(){return(0,a.jsxs)(r.Html,{lang:"en",children:[a.jsx(r.Head,{}),(0,a.jsxs)("body",{children:[a.jsx(r.Main,{}),a.jsx(r.NextScript,{})]})]})}},2489:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>b,getServerSideProps:()=>j});var r=s(997),n=s(6689),i=s(4421),c=s.n(i),l=s(968),o=s.n(l),u=s(1649),d=s(8498),h=s(7094),p=s(2091),x=s(371),_=s(1492),m=s(1664),g=s.n(m),f=e([x,_]);function b({user:e}){let[t,s]=(0,n.useState)(""),[a,i]=(0,n.useState)(!1),[l,u]=(0,n.useState)([]);async function m(r){if(r.preventDefault(),""!==t)try{let r=(0,x.h)();await (0,_.addDoc)((0,_.collection)(r,"tarefas"),{tarefa:t,created:new Date,user:e?.email,public:a}),console.log("Tarefa adicionada com sucesso!"),s(""),i(!1)}catch(e){console.log("Erro ao adicionar tarefa:",e)}}async function f(e){await navigator.clipboard.writeText(`http://localhost:3000/task/${e}`),alert("URL COPIADA COM SUCESSO")}async function b(e){let t=(0,x.h)(),s=(0,_.doc)(t,"tarefas",e);await (0,_.deleteDoc)(s)}return(0,n.useEffect)(()=>{(async function(){let t=(0,x.h)(),s=(0,_.collection)(t,"tarefas"),a=(0,_.query)(s,(0,_.orderBy)("created","desc"),(0,_.where)("user","==",e?.email));(0,_.onSnapshot)(a,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,tarefa:e.data().tarefa,created:e.data().created,user:e.data().user,public:e.data().public})}),u(t)})})()},[e?.email]),(0,r.jsxs)("div",{className:c().container,children:[r.jsx(o(),{children:r.jsx("title",{children:"Meu painel de tarefas"})}),(0,r.jsxs)("main",{className:c().main,children:[r.jsx("section",{className:c().content,children:(0,r.jsxs)("div",{className:c().contentForm,children:[r.jsx("h1",{className:c().title,children:"Qual sua tarefa?"}),(0,r.jsxs)("form",{onSubmit:m,children:[r.jsx(d.g,{placeholder:"Digite sua tarefa...",value:t,onChange:e=>s(e.target.value)}),(0,r.jsxs)("div",{className:c().checkboxArea,children:[r.jsx("input",{type:"checkbox",className:c().checkbox,checked:a,onChange:function(e){console.log(e.target.checked),i(e.target.checked)}}),r.jsx("label",{children:" Deixar tarefa p\xfablica? "})]}),r.jsx("button",{className:c().button,type:"submit",children:"Registrar Tarefa"})]})]})}),(0,r.jsxs)("section",{className:c().taskContainer,children:[r.jsx("h1",{children:"Minhas tarefas"}),l.map(e=>(0,r.jsxs)("article",{className:c().task,children:[e.public&&(0,r.jsxs)("div",{className:c().tagContainer,children:[r.jsx("label",{className:c().tag,children:"P\xdaBLICO"}),r.jsx("button",{className:c().shareButton,onClick:()=>f(e.id),children:r.jsx(h.qSo,{size:22,color:"#0f0f0f"})})]}),(0,r.jsxs)("div",{className:c().taskContent,children:[e.public?r.jsx(g(),{href:`/task/${e.id}`,children:r.jsx("p",{children:e.tarefa})}):r.jsx("p",{children:e.tarefa}),r.jsx("button",{className:c().trashButton,onClick:()=>b(e.id),children:r.jsx(p.Xm5,{size:24,color:"#ea3140"})})]})]},e.id))]})]})]})}[x,_]=f.then?(await f)():f;let j=async({req:e})=>{let t=await (0,u.getSession)({req:e});return t?.user?(console.log("Usu\xe1rio autenticado:",t.user.email),{props:{user:{email:t.user.email}}}):(console.log("Usu\xe1rio n\xe3o autenticado"),{redirect:{destination:"/",permanent:!1}})};a()}catch(e){a(e)}})},371:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{let c;s.d(t,{h:()=>d,m:()=>u});var r=s(3745),n=s(1492),i=e([r,n]);[r,n]=i.then?(await i)():i;let l={apiKey:"AIzaSyD6VeNcGMHOQIoLXi7FSEemw7-AhjUDySM",authDomain:"duotask-plus.firebaseapp.com",projectId:"duotask-plus",storageBucket:"duotask-plus.appspot.com",messagingSenderId:"803071142357",appId:"803071142357:web:9d26cf888633ac9dc4b55c"},o=null,u=()=>{c||(c=(0,r.initializeApp)(l),console.log("Firebase inicializado com sucesso!"))},d=()=>{if(!c)throw console.error("Firebase app not initialized"),Error("Firebase app not initialized");return o||(o=(0,n.getFirestore)(c)),o};a()}catch(e){a(e)}})},6764:()=>{},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},3745:e=>{"use strict";e.exports=import("firebase/app")},1492:e=>{"use strict";e.exports=import("firebase/firestore")},1017:e=>{"use strict";e.exports=require("path")},7094:(e,t,s)=>{"use strict";s.d(t,{qSo:()=>r});var a=s(5054);function r(e){return(0,a.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.7 230.4l-141.1-132c-1.7-1.6-3.3-2.5-5.6-2.4-4.4.2-10 3.3-10 8v66.2c0 2-1.6 3.8-3.6 4.1C144.1 195.8 85 300.8 64.1 409.8c-.8 4.3 5 8.3 7.7 4.9 51.2-64.5 113.5-106.6 212-107.4 2.2 0 4.2 2.6 4.2 4.8v65c0 7 9.3 10.1 14.5 5.3l142.1-134.3c2.6-2.4 3.4-5.2 3.5-8.4-.1-3.2-.9-6.9-3.4-9.3z"},child:[]}]})(e)}}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[348,859,664,767],()=>s(9157));module.exports=a})();